(this.webpackJsonpmilk_storage=this.webpackJsonpmilk_storage||[]).push([[0],{40:function(e,t,a){e.exports=a(66)},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),c=a.n(l),o=a(17),s=(a(45),a(10)),i=a(9),u=a(6),m=a(16),d=a(18),E=a(20),h=a(19),f=a(39),p=a(7);function g(){var e=new Date,t=e.toLocaleString("en-US",{month:"long",day:"numeric"});return"".concat(t,", ").concat(e.toLocaleTimeString())}function y(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"freeze",a=new Date,n=(e="freeze"===t?new Date(a.setMonth(a.getMonth()+3)):new Date(a.setDate(a.getDate()+3))).toLocaleString("en-US",{month:"long",day:"numeric"});return"".concat(n,", ").concat(e.toLocaleTimeString())}var w=function(e,t){switch(t.type){case"storages":var a=t.payload;return Object(p.a)(Object(p.a)({},e),{},{storages:a,loading:!1});case"store":var n={id:(a=e.storages).length+1,date:g(),expiration:y("freeze"),quantity:t.payload,state:"freeze",thawedDate:"",thawedExpiration:""};return a.push(n),b(n),Object(p.a)(Object(p.a)({},e),{},{storages:a});case"thaw":a=e.storages;var r=Object(p.a)(Object(p.a)({},t.payload),{},{state:"thawed",thawedDate:g(),thawedExpiration:y("thawed"),id:t.payload.id});return console.log(r),a[a.findIndex((function(e){return e.id===t.payload.id}))]=r,v(r),Object(p.a)(Object(p.a)({},e),{},{storages:a});case"done":a=e.storages,r={state:"done",id:t.payload.id};return a[a.findIndex((function(e){return e.id===t.payload.id}))]=r,O(r),Object(p.a)(Object(p.a)({},e),{},{storages:a});default:return}},x={storages:[{id:1,date:"March 1, 9:00PM",expiration:"July 1, 9:00PM",quantity:90,state:"thawed",thawedDate:"March 27, 5:00AM",thawedExpiration:"April 1, 5:00AM"},{id:2,date:"March 3, 1:00PM",expiration:"July 3, 1:00PM",quantity:140,state:"freeze",thawedDate:"",thawedExpiration:""},{id:3,date:"March 9, 3:20AM",expiration:"July 9, 3:20AM",quantity:120,state:"thawed",thawedDate:"March 30, 1:45AM",thawedExpiration:"April 5, 1:45AM"}],loading:!0},j=Object(n.createContext)(x),b=function(e){fetch("https://script.google.com/macros/s/AKfycbwyvDk0ENunSmjxzzPOfBWpyGCIdVa6M9HWAnDijkzKqOwbVLjr/exec?"+new URLSearchParams(Object(p.a)({},e)),{method:"POST",headers:new Headers}).then((function(e){return e.json()})).then((function(e){return console.log("addMilk: ",e)}))},v=function(e){fetch("https://script.google.com/macros/s/AKfycbwyvDk0ENunSmjxzzPOfBWpyGCIdVa6M9HWAnDijkzKqOwbVLjr/exec?"+new URLSearchParams(Object(p.a)({},e)),{method:"POST",headers:new Headers}).then((function(e){return e.json()})).then((function(e){return console.log("thawMilk: ",e)}))},O=function(e){fetch("https://script.google.com/macros/s/AKfycbwyvDk0ENunSmjxzzPOfBWpyGCIdVa6M9HWAnDijkzKqOwbVLjr/exec?"+new URLSearchParams(Object(p.a)({},e)),{method:"POST",headers:new Headers}).then((function(e){return e.json()})).then((function(e){return console.log("doneMilk: ",e)}))},k=function(e){var t=Object(n.useReducer)(w,x),a=Object(o.a)(t,2),l=a[0],c=a[1];return r.a.createElement(j.Provider,{value:{state:l,dispatch:c}},e.children)},M=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(0),s=Object(o.a)(c,2),i=s[0],u=s[1],m=Object(n.useContext)(j).dispatch,p=function(){return l(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"primary",onClick:function(){return l(!0)}},"Add Milk"),r.a.createElement(E.a,{show:a,onHide:p,centered:!0},r.a.createElement(E.a.Header,{closeButton:!0},r.a.createElement(E.a.Title,null,"Woohoo! Another Milk for ZL!")),r.a.createElement(E.a.Body,null,r.a.createElement(h.a,{size:"sm",className:"mb-3"},r.a.createElement(h.a.Prepend,null,r.a.createElement(h.a.Text,{id:"inputGroup-sizing-sm"},"Quantity")),r.a.createElement(f.a,{"aria-label":"Small","aria-describedby":"inputGroup-sizing-sm",onChange:function(e){return u(e.target.value)},value:i}),r.a.createElement(h.a.Append,null,r.a.createElement(h.a.Text,null,"mL")))),r.a.createElement(E.a.Footer,null,r.a.createElement(d.a,{variant:"secondary",onClick:p},"Close"),r.a.createElement(d.a,{variant:"primary",onClick:function(){m({type:"store",payload:i}),p()}},"Store"))))},S={margin:"16px"},z=function(){var e=Object(n.useContext)(j).state,t=e.storages.map((function(e){return parseInt(e.quantity)})).reduce((function(e,t){return e+t}),0),a=e.storages.filter((function(e){return"done"===e.state})).map((function(e){return parseInt(e.quantity)})).reduce((function(e,t){return e+t}),0),l=e.storages.filter((function(e){return"freeze"===e.state})).length,c=e.storages.filter((function(e){return"thawed"===e.state})).length,o=e.storages.slice(-1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null,r.a.createElement(u.a,{className:"text-center justify-content-center align-items-center",style:{paddingTop:"16px"}},r.a.createElement("a",{href:"https://docs.google.com/spreadsheets/d/1C7HAwFojqKU5Yd4nFLwyPQg9iTNAoTNDAaSE1ftWuBM/edit#gid=0"},"Google Sheet Link"))),r.a.createElement(i.a,{className:"justify-content-center"},r.a.createElement(u.a,{xs:12,style:S},r.a.createElement(s.a,null,r.a.createElement(i.a,null,r.a.createElement(u.a,null,"Last Count"),r.a.createElement(u.a,null,r.a.createElement("p",{className:"text-center"},o.id))))),r.a.createElement(u.a,{xs:12,style:S},r.a.createElement(s.a,null,r.a.createElement(i.a,null,r.a.createElement(u.a,null,"Last Date of Storage"),r.a.createElement(u.a,null,r.a.createElement("p",{className:"text-center"},o.date))))),r.a.createElement(u.a,{xs:12,style:S},r.a.createElement(s.a,null,r.a.createElement(i.a,null,r.a.createElement(u.a,null,"Total stored milk"),r.a.createElement(u.a,null,r.a.createElement("p",{className:"text-center"},t," mL"))))),r.a.createElement(u.a,{xs:12,style:S},r.a.createElement(s.a,null,r.a.createElement(i.a,null,r.a.createElement(u.a,null,"Total drank milk"),r.a.createElement(u.a,null,r.a.createElement("p",{className:"text-center"},a," mL"))))),r.a.createElement(u.a,{xs:12,style:S},r.a.createElement(s.a,null,r.a.createElement(i.a,null,r.a.createElement(u.a,null,"Current Frozen Milk"),r.a.createElement(u.a,null,r.a.createElement("p",{className:"text-center"},l))))),r.a.createElement(u.a,{xs:12,style:S},r.a.createElement(s.a,null,r.a.createElement(i.a,null,r.a.createElement(u.a,null,"Current Thawed Milk"),r.a.createElement(u.a,null,r.a.createElement("p",{className:"text-center"},c)))))),r.a.createElement(i.a,{className:"justify-content-center"},r.a.createElement(M,null)))},A=a(36),D=function(e){var t=e.status,a=void 0===t?"freeze":t,l=Object(n.useContext)(j),c=l.state,o=l.dispatch,i=c.storages.filter((function(e){return e.state===a})).reverse();return r.a.createElement(s.a,null,r.a.createElement(A.a,{striped:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"freeze"===a?"Pump Date":"Thawed Date"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Expiration"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,i.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,"freeze"===a?e.date:e.thawedDate),r.a.createElement("td",null,e.quantity," mL"),r.a.createElement("td",null,"freeze"===a?e.expiration:e.thawedExpiration),r.a.createElement("td",null,r.a.createElement(d.a,{onClick:function(){return function(e){o({type:"freeze"===a?"thaw":"done",payload:e})}(e)},variant:"freeze"===a?"info":"success"},"freeze"===a?"Thaw":"Done")))})))))},L=a(37),C=a.n(L),T=a(38),P=a.n(T);var N={background:"#333",color:"#fff",textAlign:"center",paddin:"10px"},q={display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},I=function(){var e=Object(n.useState)("home"),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useContext)(j),d=c.state,E=c.dispatch;return Object(n.useEffect)((function(){C.a.init({key:"https://docs.google.com/spreadsheets/d/1C7HAwFojqKU5Yd4nFLwyPQg9iTNAoTNDAaSE1ftWuBM/edit?usp=sharing",simpleSheet:!0}).then((function(e){E({type:"storages",payload:e})}))}),[]),d.loading?r.a.createElement("div",{style:q},r.a.createElement(P.a,{type:"bars",color:"#007bff",height:300,width:300})):r.a.createElement(s.a,null,r.a.createElement(i.a,null,r.a.createElement(u.a,null,r.a.createElement("header",{style:N},r.a.createElement("h1",null,"ZL's Milk Storage")))),r.a.createElement(i.a,null,r.a.createElement(u.a,null,r.a.createElement(m.a,{variant:"tabs",defaultActiveKey:"home",onSelect:function(e){return l(e)}},r.a.createElement(m.a.Item,null,r.a.createElement(m.a.Link,{eventKey:"home"},"Home")),r.a.createElement(m.a.Item,null,r.a.createElement(m.a.Link,{eventKey:"storage"},"Storage")),r.a.createElement(m.a.Item,null,r.a.createElement(m.a.Link,{eventKey:"thawed"},"Thawed Milk"))))),"home"===a?r.a.createElement(z,null):"storage"===a?r.a.createElement(D,{status:"freeze"}):"thawed"===a?r.a.createElement(D,{status:"thawed"}):"Something went wrong")};c.a.render(r.a.createElement(k,null,r.a.createElement(I,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.e3458bc2.chunk.js.map