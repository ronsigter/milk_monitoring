(this.webpackJsonpmilk_storage=this.webpackJsonpmilk_storage||[]).push([[0],{182:function(e,t,a){e.exports=a(398)},207:function(e,t){},209:function(e,t){},239:function(e,t){},240:function(e,t){},305:function(e,t){},398:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(32),c=a.n(l),o=a(41),u=(a(187),a(24)),i=a(21),s=a(12),m=a(39),d=a(109),E=a(111),h=a(47),f=a(49),p=a(48),g=a(181),y=a(34);function w(){var e=new Date,t=e.toLocaleString("en-US",{month:"long",day:"numeric"});return"".concat(t,", ").concat(e.toLocaleTimeString())}function x(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"freeze",a=new Date,n=(e="freeze"===t?new Date(a.setMonth(a.getMonth()+3)):new Date(a.setDate(a.getDate()+3))).toLocaleString("en-US",{month:"long",day:"numeric"});return"".concat(n,", ").concat(e.toLocaleTimeString())}var b=function(e,t){switch(t.type){case"storages":var a=t.payload;return Object(y.a)({},e,{storages:a});case"store":var n={id:(a=e.storages).length+1,date:w(),expiration:x("freeze"),quantity:t.payload,state:"freeze",thawedDate:"",thawedExpiration:""};return a.push(n),O(n),Object(y.a)({},e,{storages:a});case"thaw":a=e.storages;var r=Object(y.a)({},t.payload,{state:"thawed",thawedDate:w(),thawedExpiration:x("thawed"),id:Number(t.payload.id)});return console.log(r),a[a.findIndex((function(e){return e.id===t.payload.id}))]=r,M(r),Object(y.a)({},e,{storages:a});case"done":a=e.storages,r={state:"done",id:Number(t.payload.id)};return a[a.findIndex((function(e){return e.id===t.payload.id}))]=r,S(r),Object(y.a)({},e,{storages:a});default:return}},j={storages:[{id:1,date:"March 1, 9:00PM",expiration:"July 1, 9:00PM",quantity:90,state:"thawed",thawedDate:"March 27, 5:00AM",thawedExpiration:"April 1, 5:00AM"},{id:2,date:"March 3, 1:00PM",expiration:"July 3, 1:00PM",quantity:140,state:"freeze",thawedDate:"",thawedExpiration:""},{id:3,date:"March 9, 3:20AM",expiration:"July 9, 3:20AM",quantity:120,state:"thawed",thawedDate:"March 30, 1:45AM",thawedExpiration:"April 5, 1:45AM"}]},v=Object(n.createContext)(j),O=function(e){fetch("https://script.google.com/macros/s/AKfycbwyvDk0ENunSmjxzzPOfBWpyGCIdVa6M9HWAnDijkzKqOwbVLjr/exec?"+new URLSearchParams(Object(y.a)({},e)),{method:"POST",headers:new Headers}).then((function(e){return e.json()})).then((function(e){return console.log("addMilk: ",e)}))},M=function(e){fetch("https://script.google.com/macros/s/AKfycbwyvDk0ENunSmjxzzPOfBWpyGCIdVa6M9HWAnDijkzKqOwbVLjr/exec?"+new URLSearchParams(Object(y.a)({},e)),{method:"POST",headers:new Headers}).then((function(e){return e.json()})).then((function(e){return console.log("thawMilk: ",e)}))},S=function(e){fetch("https://script.google.com/macros/s/AKfycbwyvDk0ENunSmjxzzPOfBWpyGCIdVa6M9HWAnDijkzKqOwbVLjr/exec?"+new URLSearchParams(Object(y.a)({},e)),{method:"POST",headers:new Headers}).then((function(e){return e.json()})).then((function(e){return console.log("doneMilk: ",e)}))},k=function(e){var t=Object(n.useReducer)(b,j),a=Object(o.a)(t,2),l=a[0],c=a[1];return r.a.createElement(v.Provider,{value:{state:l,dispatch:c}},e.children)},z=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(0),u=Object(o.a)(c,2),i=u[0],s=u[1],m=Object(n.useContext)(v).dispatch,d=function(){return l(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{variant:"primary",onClick:function(){return l(!0)}},"Add new Milk"),r.a.createElement(f.a,{show:a,onHide:d,centered:!0},r.a.createElement(f.a.Header,{closeButton:!0},r.a.createElement(f.a.Title,null,"Woohoo! Another Milk for ZL!")),r.a.createElement(f.a.Body,null,r.a.createElement(p.a,{size:"sm",className:"mb-3"},r.a.createElement(p.a.Prepend,null,r.a.createElement(p.a.Text,{id:"inputGroup-sizing-sm"},"Quantity")),r.a.createElement(g.a,{"aria-label":"Small","aria-describedby":"inputGroup-sizing-sm",onChange:function(e){return s(e.target.value)},value:i}),r.a.createElement(p.a.Append,null,r.a.createElement(p.a.Text,null,"mL")))),r.a.createElement(f.a.Footer,null,r.a.createElement(h.a,{variant:"secondary",onClick:d},"Close"),r.a.createElement(h.a,{variant:"primary",onClick:function(){m({type:"store",payload:i}),d()}},"Store"))))},A={margin:"16px"},D=function(){var e=Object(n.useContext)(v).state,t=e.storages.map((function(e){return parseInt(e.quantity)})).reduce((function(e,t){return e+t}),0),a=e.storages.filter((function(e){return"done"===e.state})).map((function(e){return parseInt(e.quantity)})).reduce((function(e,t){return e+t}),0),l=e.storages.filter((function(e){return"freeze"===e.state})).length,c=e.storages.filter((function(e){return"thawed"===e.state})).length,o=e.storages.slice(-1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null,r.a.createElement(s.a,{className:"text-center justify-content-center align-items-center"},r.a.createElement("a",{href:"https://docs.google.com/spreadsheets/d/1C7HAwFojqKU5Yd4nFLwyPQg9iTNAoTNDAaSE1ftWuBM/edit#gid=0"},"Google Sheet Link"))),r.a.createElement(i.a,{className:"justify-content-center"},r.a.createElement(s.a,{xs:12,style:A},r.a.createElement(u.a,null,r.a.createElement(i.a,null,r.a.createElement(s.a,null,"Last Count"),r.a.createElement(s.a,null,r.a.createElement("p",{className:"text-center"},o.id))))),r.a.createElement(s.a,{xs:12,style:A},r.a.createElement(u.a,null,r.a.createElement(i.a,null,r.a.createElement(s.a,null,"Last Storing Date"),r.a.createElement(s.a,null,r.a.createElement("p",{className:"text-center"},o.date))))),r.a.createElement(s.a,{xs:12,style:A},r.a.createElement(u.a,null,r.a.createElement(i.a,null,r.a.createElement(s.a,null,"Total Stored ",r.a.createElement(d.a,{icon:E.b})),r.a.createElement(s.a,null,r.a.createElement("p",{className:"text-center"},t," mL"))))),r.a.createElement(s.a,{xs:12,style:A},r.a.createElement(u.a,null,r.a.createElement(i.a,null,r.a.createElement(s.a,null,"Total Consumed"),r.a.createElement(s.a,null,r.a.createElement("p",{className:"text-center"},a," mL"))))),r.a.createElement(s.a,{xs:12,style:A},r.a.createElement(u.a,null,r.a.createElement(i.a,null,r.a.createElement(s.a,null,"Freeze Milk",r.a.createElement(d.a,{icon:E.a})),r.a.createElement(s.a,null,r.a.createElement("p",{className:"text-center"},l))))),r.a.createElement(s.a,{xs:12,style:A},r.a.createElement(u.a,null,r.a.createElement(i.a,null,r.a.createElement(s.a,null,"Thawed Milk"),r.a.createElement(s.a,null,r.a.createElement("p",{className:"text-center"},c)))))),r.a.createElement(i.a,{className:"justify-content-center"},r.a.createElement(z,null)))},L=a(179),N=function(e){var t=e.status,a=void 0===t?"freeze":t,l=Object(n.useContext)(v),c=l.state,o=l.dispatch,i=c.storages.filter((function(e){return e.state===a})).reverse();return r.a.createElement(u.a,null,r.a.createElement(L.a,{striped:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"freeze"===a?"Pump Date":"Thawed Date"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Expiration"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,i.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,"freeze"===a?e.date:e.thawedDate),r.a.createElement("td",null,e.quantity," mL"),r.a.createElement("td",null,"freeze"===a?e.expiration:e.thawedExpiration),r.a.createElement("td",null,r.a.createElement(h.a,{onClick:function(){return function(e){o({type:"freeze"===a?"thaw":"done",payload:e})}(e)},variant:"freeze"===a?"info":"success"},"freeze"===a?"Thaw":"Done")))})))))},C=a(180),P=a.n(C);var T={background:"#333",color:"#fff",textAlign:"center",paddin:"10px"},q=function(){var e=Object(n.useState)("home"),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useContext)(v).dispatch;return Object(n.useEffect)((function(){P.a.init({key:"https://docs.google.com/spreadsheets/d/1C7HAwFojqKU5Yd4nFLwyPQg9iTNAoTNDAaSE1ftWuBM/edit?usp=sharing",simpleSheet:!0}).then((function(e){c({type:"storages",payload:e})}))}),[]),r.a.createElement(u.a,null,r.a.createElement(i.a,null,r.a.createElement(s.a,null,r.a.createElement("header",{style:T},r.a.createElement("h1",null,"ZL's Milk Storage")))),r.a.createElement(i.a,null,r.a.createElement(s.a,null,r.a.createElement(m.a,{variant:"tabs",defaultActiveKey:"home",onSelect:function(e){return l(e)}},r.a.createElement(m.a.Item,null,r.a.createElement(m.a.Link,{eventKey:"home"},"Home")),r.a.createElement(m.a.Item,null,r.a.createElement(m.a.Link,{eventKey:"storage"},"Storage")),r.a.createElement(m.a.Item,null,r.a.createElement(m.a.Link,{eventKey:"thawed"},"Thawed"))))),"home"===a?r.a.createElement(D,null):"storage"===a?r.a.createElement(N,{status:"freeze"}):"thawed"===a?r.a.createElement(N,{status:"thawed"}):"Something went wrong")};c.a.render(r.a.createElement(k,null,r.a.createElement(q,null)),document.getElementById("root"))}},[[182,1,2]]]);
//# sourceMappingURL=main.0fabb754.chunk.js.map